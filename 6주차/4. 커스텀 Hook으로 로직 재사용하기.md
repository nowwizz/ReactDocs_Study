# ì»¤ìŠ¤í…€ Hookìœ¼ë¡œ ë¡œì§ ì¬ì‚¬ìš©í•˜ê¸°
ë¦¬ì•¡íŠ¸ëŠ” `useState` , `useContext` , ê·¸ë¦¬ê³  `useEffect` ê°™ì´ ëª‡ëª‡ ë‚´ì¬í•˜ê³  ìˆëŠ” Hookì´ ì¡´ì¬í•œë‹¤.

ê°€ë” ì¡°ê¸ˆ ë” êµ¬ì²´ì ì¸ ëª©ì ì„ ê°€ì§„ Hookì´ ì¡´ì¬í•˜ê¸¸ ë°”ë„ ë•Œë„ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤ë˜ê°€, ì‚¬ìš©ìê°€ ì˜¨ë¼ì¸ ìƒíƒœì¸ì§€ ê³„ì† í™•ì¸í•œë‹¤ë“ ê°€, í˜¹ì€ ì±„íŒ…ë°©ì— ì—°ê²°í•˜ê¸° ìœ„í•œ ëª©ì ë“¤ì²˜ëŸ¼ ë§ì´ë‹¤.

ë¦¬ì•¡íŠ¸ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ Hookì„ ì°¾ê¸°ëŠ” ì–´ë µì§€ë§Œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•„ìš”ì— ì•Œë§ëŠ” ë³¸ì¸ë§Œì˜ Hookì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

## ì»¤ìŠ¤í…€ Hook: ì»´í¬ë„ŒíŠ¸ê°„ ë¡œì§ ê³µìœ í•˜ê¸°

ë„¤íŠ¸ì›Œí¬ì— í¬ê²Œ ì˜ì¡´í•˜ëŠ” ì•±(ëŒ€ë¶€ë¶„ì˜ ì•±ì´ ê·¸ë ‡ë“¯)ì„ ê°œë°œ ì¤‘ì´ë¼ê³  ìƒê°í•´ ë³´ì.

ì‚¬ìš©ìê°€ ì•±ì„ ì‚¬ìš©í•˜ëŠ” ë™ì•ˆ ë„¤íŠ¸ì›Œí¬ ê°€ ê°‘ìê¸° ì‚¬ë¼ì§„ë‹¤ë©´, ì‚¬ìš©ìì—ê²Œ ê²½ê³ í•˜ê³  ì‹¶ì„ ê²ƒì´ë‹¤.

1. ë„¤íŠ¸ì›Œí¬ê°€ ì˜¨ë¼ì¸ ìƒíƒœì¸ì§€ ì•„ë‹Œì§€ ì¶”ì í•˜ëŠ” í•˜ë‚˜ì˜ state
2. ì „ì—­ `online` , `offline` ì´ë²¤íŠ¸ë¥¼ êµ¬ë…í•˜ê³ , ì´ì— ë§ì¶° stateë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” Effect

ë‘ ê°€ì§€ ìš”ì†ŒëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë„¤íŠ¸ì›Œí¬ ìƒíƒœì™€ ë™ê¸°í™”ë˜ë„ë¡ í•œë‹¤.

```tsx
import { useState, useEffect } from 'react';

export default function StatusBar() {
  const [isOnline, setIsOnline] = useState(true);
  useEffect(() => {
    function handleOnline() {
      setIsOnline(true);
    }
    function handleOffline() {
      setIsOnline(false);
    }
    window.addEventListener('online', handleOnline);
    window.addEventListener('offline', handleOffline);
    return () => {
      window.removeEventListener('online', handleOnline);
      window.removeEventListener('offline', handleOffline);
    };
  }, []);

  return <h1>{isOnline ? 'âœ… ì˜¨ë¼ì¸' : 'âŒ ì—°ê²° ì•ˆ ë¨'}</h1>;
}

```

ì´ì œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê°™ì€ ë¡œì§ì„ ë˜ ì‚¬ìš©í•œë‹¤ê³  ìƒìƒí•´ ë´ë¼.

ë„¤íŠ¸ì›Œí¬ê°€ êº¼ì¡Œì„ ë•Œ, â€œì €ì¥â€ ëŒ€ì‹  â€œì¬ì—°ê²° ì¤‘â€¦â€ì„ ë³´ì—¬ì£¼ëŠ” ë¹„í™œì„±í™”ëœ ì €ì¥ ë²„íŠ¼ì„ êµ¬í˜„í•˜ê³  ì‹¶ë‹¤ê³  ê°€ì •í•´ ë³´ì.

êµ¬í˜„í•˜ê¸° ìœ„í•´, ì•ì„œ ì‚¬ìš©í•œ `isOnline` stateê³¼ Effectë¥¼ `SaveButton` ì•ˆì— ë³µì‚¬ ë¶™ì—¬ë„£ê¸° í•  ìˆ˜ ìˆë‹¤.

```tsx
import { useState, useEffect } from 'react';

export default function SaveButton() {
  const [isOnline, setIsOnline] = useState(true);
  useEffect(() => {
    function handleOnline() {
      setIsOnline(true);
    }
    function handleOffline() {
      setIsOnline(false);
    }
    window.addEventListener('online', handleOnline);
    window.addEventListener('offline', handleOffline);
    return () => {
      window.removeEventListener('online', handleOnline);
      window.removeEventListener('offline', handleOffline);
    };
  }, []);

  function handleSaveClick() {
    console.log('âœ… ì§„í–‰ì‚¬í•­ ì €ì¥ë¨');
  }

  return (
    <button disabled={!isOnline} onClick={handleSaveClick}>
      {isOnline ? 'ì§„í–‰ì‚¬í•­ ì €ì¥' : 'ì¬ì—°ê²° ì¤‘...'}
    </button>
  );
}

```

ìœ„ì˜ ë‘ ì»´í¬ë„ŒíŠ¸ëŠ” ì˜ ì‘ë™í•œë‹¤. í•˜ì§€ë§Œ ë‘˜ ì‚¬ì´ì˜ ë¡œì§ì´ ì¤‘ë³µë˜ëŠ” ê²Œ ì•„ì‰½ë‹¤.

ë¡œì§ì„ ì¬ì‚¬ìš©í•´ ë³´ì.

## ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° ì»¤ìŠ¤í…€ Hook ì¶”ì¶œí•˜ê¸°

`useState`  ê·¸ë¦¬ê³  `useEffect` ì™€ ë¹„ìŠ·í•œ ë‚´ì¥ëœ `useOnlineStatus` Hookì´ ìˆë‹¤ê³  ìƒìƒí•´ ë³´ì.

ê·¸ëŸ¼ ë‘ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¨ìˆœí™”í•  ìˆ˜ ìˆê³ , ë‘˜ ê°„ì˜ ì¤‘ë³µì„ ì œê±°í•  ìˆ˜ ìˆë‹¤.

```tsx
function StatusBar() {
  const isOnline = useOnlineStatus();
  return <h1>{isOnline ? 'âœ… ì˜¨ë¼ì¸' : 'âŒ ì—°ê²° ì•ˆ ë¨'}</h1>;
}

function SaveButton() {
  const isOnline = useOnlineStatus();

  function handleSaveClick() {
    console.log('âœ… ì§„í–‰ì‚¬í•­ ì €ì¥ë¨');
  }

  return (
    <button disabled={!isOnline} onClick={handleSaveClick}>
      {isOnline ? 'ì§„í–‰ì‚¬í•­ ì €ì¥' : 'ì¬ì—°ê²° ì¤‘...'}
    </button>
  );
}
```

ë‚´ì¥ëœ í›…ì´ ì—†ë‹¤ í•´ë„, ìŠ¤ìŠ¤ë¡œ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ìˆë‹¤.

`useOnlineStatus` í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ê³ , ì•ì„œ ì‘ì„±í•œ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ ì¤‘ë³µë˜ëŠ” ì½”ë“œë¥¼ ë°”ê¿”ë¼.

```tsx
function useOnlineStatus() {
  const [isOnline, setIsOnline] = useState(true);
  useEffect(() => {
    function handleOnline() {
      setIsOnline(true);
    }
    function handleOffline() {
      setIsOnline(false);
    }
    window.addEventListener('online', handleOnline);
    window.addEventListener('offline', handleOffline);
    return () => {
      window.removeEventListener('online', handleOnline);
      window.removeEventListener('offline', handleOffline);
    };
  }, []);
  return isOnline;
}
```

í•¨ìˆ˜ì˜ ë§ˆì§€ë§‰ì— `isOnline` ì„ ë°˜í™˜í•˜ë©´, ê·¸ ê°’ì„ ì½ì„ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

ì´ì œ ì»´í¬ë„ŒíŠ¸ëŠ” ë°˜ë³µë˜ëŠ” ë¡œì§ì´ ë§ì§€ ì•Šê²Œ ë˜ì—ˆë‹¤.

**ì¤‘ìš”í•œ ê±´, ë‘ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ ì½”ë“œê°€ ì–´ë–»ê²Œ ê·¸ê²ƒì„ í•˜ëŠ”ì§€ë³´ë‹¤ ê·¸ë“¤ì´ ë¬´ì—‡ì„ í•˜ë ¤ëŠ”ì§€ì— ëŒ€í•´ ì„¤ëª…í•˜ê³  ìˆë‹¤ëŠ” ì ì´ë‹¤.**

ì»¤ìŠ¤í…€ Hookì„ ë§Œë“¤ì–´ ë‚¼ ë•Œ, ë¸Œë¼ìš°ì € APIë‚˜ ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ì†Œí†µí•˜ëŠ” ë°©ë²•ê³¼ ê°™ì€ ë¶ˆí•„ìš”í•œ ì„¸ë¶€ ì‚¬í•­ì„ ìˆ¨ê¸¸ ìˆ˜ ìˆë‹¤.

ì»´í¬ë„ŒíŠ¸ì˜ ì½”ë“œëŠ” ëª©ì ë§Œì„ ë‚˜íƒ€ë‚¼ ë¿ ì‹¤í–‰ ë°©ë²•ì— ëŒ€í•´ì„  ë‚˜íƒ€ë‚´ì§€ ì•ŠëŠ”ë‹¤.

## Hookì˜ ì´ë¦„ì€ í•­ìƒ `use` ë¡œ ì‹œì‘í•´ì•¼ í•œë‹¤.

ë¦¬ì•¡íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¤ì–´ì§„ë‹¤. ì»´í¬ë„ŒíŠ¸ë“¤ì€ ë‚´ì¥ë˜ê±°ë‚˜ ì§ì ‘ ì‘ì„±ëœ Hookìœ¼ë¡œ ë§Œë“¤ì–´ì§„ë‹¤.

ë³¸ì¸ë§Œì˜ Hookì„ ë§Œë“¤ ë•Œ, ë‹¤ìŒì˜ ì‘ëª… ê·œì¹™ì„ ì¤€ìˆ˜í•´ì•¼ í•œë‹¤.

1. **ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ì´ë¦„ì€ í•­ìƒ ëŒ€ë¬¸ìë¡œ ì‹œì‘í•´ì•¼ í•œë‹¤.**
ë˜í•œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” JSXì²˜ëŸ¼ ì–´ë–»ê²Œ ë³´ì´ëŠ”ì§€ ë¦¬ì•¡íŠ¸ê°€ ì•Œ ìˆ˜ ìˆëŠ” ë¬´ì–¸ê°€ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤.
2. **Hookì˜ ì´ë¦„ì€ `use` ë’¤ì— ëŒ€ë¬¸ìë¡œ ì‹œì‘í•´ì•¼ í•œë‹¤.**
Hookë“¤ì€ ì–´ë–¤ ê°’ì´ë“  ë°˜í™˜í•  ìˆ˜ ìˆë‹¤.

ì´ëŸ¬í•œ ê·œì¹™ë“¤ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³¼ ë•Œ, ì–´ë””ì— state Effect ë° ë‹¤ë¥¸ ë¦¬ì•¡íŠ¸ ê¸°ëŠ¥ë“¤ì´ â€œìˆ¨ì–´â€ìˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

### ì¤‘ìš”í•©ë‹ˆë‹¤!

linterê°€ ë¦¬ì•¡íŠ¸ì— ë§ì¶°ìˆë‹¤ë©´, ì‘ëª… ê·œì¹™ì„ ì§€í‚¤ê²Œ í•œë‹¤.

ìœ„ì˜ ì½”ë“œë¡œ ë‹¤ì‹œ ì˜¬ë¼ê°€ `useOnlineStatus` ë¥¼ `getOnlineStatus` ë¡œ ë°”ê¿”ë´ë¼. linterê°€ ë‚´ë¶€ì—ì„œ `useState` ë‚˜ `useEffect` ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë” ì´ìƒ í—ˆìš©í•˜ì§€ ì•Šì„ ê²ƒì´ë‹¤.

ì˜¤ë¡œì§€ Hookê³¼ ì»´í¬ë„ŒíŠ¸ë§Œ ë‹¤ë¥¸ Hookì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### ë Œë”ë§ ì¤‘ì— í˜¸ì¶œë˜ëŠ” ëª¨ë“  í•¨ìˆ˜ëŠ” use ì ‘ë‘ì‚¬ë¡œ ì‹œì‘í•´ì•¼ í•˜ë‚˜ìš”?

ì•„ë‹ˆë‹¤. Hookì„ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ëŠ” Hookì¼ í•„ìš”ê°€ ì—†ë‹¤.

í•¨ìˆ˜ê°€ ì–´ë–¤ Hookë„ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, `use` ë¥¼ ì´ë¦„ ì•ì— ì‘ì„±í•˜ëŠ” ê²ƒì„ í”¼í•´ë¼.

ëŒ€ì‹ , `use` ì—†ì´ ì¼ë°˜ì ì¸ í•¨ìˆ˜ë¡œ ì‘ì„±í•´ë¼. ì˜ˆë¥¼ ë“¤ì–´ `useSorted` ê°€ Hookì„ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ `getSorted` ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

```tsx
// ğŸ”´ ì•ˆ ì¢‹ì€ ì˜ˆì‹œ : Hookì„ ì‚¬ìš©í•˜ê³  ìˆì§€ ì•ŠëŠ” Hook.
function useSorted(items) {
  return items.slice().sort();
}

// âœ… ì¢‹ì€ ì˜ˆì‹œ : Hookì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì¼ë°˜ í•¨ìˆ˜.
function getSorted(items) {
  return items.slice().sort();
}
```

ë‹¤ìŒì˜ ì˜ˆëŠ” ì¡°ê±´ë¬¸ ë¿ë§Œ ì•„ë‹ˆë¼ ì–´ë””ë“  ì¼ë°˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì¤€ë‹¤.

```tsx
function List({ items, shouldSort }) {
  let displayedItems = items;
  if (shouldSort) {
    // âœ… getSorted()ê°€ Hookì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì¡°ê±´ì— ë”°ë¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    displayedItems = getSorted(items);
  }
  // ...
}
```

ì ì–´ë„ í•˜ë‚˜ì˜ Hookì„ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•œë‹¤ë©´ ë°˜ë“œì‹œ í•¨ìˆ˜ ì•ì— `use` ë¥¼ ì‘ì„±í•´ì•¼ í•œë‹¤.

```tsx
// âœ… ì¢‹ì€ ì˜ˆì‹œ : Hookì„ ì‚¬ìš©í•˜ëŠ” Hook
function useAuth() {
  return useContext(Auth);
}
```

ê¸°ìˆ ì ìœ¼ë¡œ ì´ê±´ ë¦¬ì•¡íŠ¸ì— ì˜í•´ ê°•ìš”ë˜ì§„ ì•ŠëŠ”ë‹¤.

ì›ì¹™ì ìœ¼ë¡œ ë‹¤ë¥¸ Hookì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” Hookì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì´ê±´ í˜¼ë€ìŠ¤ëŸ½ê³  ì œí•œë˜ê¸° ë•Œë¬¸ì— í•´ë‹¹ ë°©ì‹ì€ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

í•˜ì§€ë§Œ, ë§¤ìš° ë“œë¬¼ê²Œ ì´ëŸ° ë°©ì‹ì´ ë„ì›€ì´ ë  ë•Œë„ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì§€ê¸ˆ ë‹¹ì¥ì€ í•¨ìˆ˜ì—ì„œ ì–´ë–¤ Hookë„ ì‚¬ìš©í•˜ì§€ ì•Šì§€ë§Œ, ë¯¸ë˜ì— Hookì„ í˜¸ì¶œí•  ê³„íšì´ ìˆë‹¤ë©´ `use` ë¥¼ ì•ì— ë¶™ì—¬ ì´ë¦„ ì§“ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.

```tsx
// âœ… ì¢‹ì€ ì˜ˆì‹œ : ì¶”í›„ì— ë‹¤ë¥¸ Hookì„ ì‚¬ìš©í•  ê°€ëŠ¥ì„±ì´ ìˆëŠ” Hook
function useAuth() {
  // TODO: ì¸ì¦ì´ ìˆ˜í–‰ë  ë•Œ í•´ë‹¹ ì½”ë“œë¥¼ useContext(Auth)ë¥¼ ë°˜í™˜í•˜ëŠ” ì½”ë“œë¡œ ë°”ê¾¸ê¸°
  return TEST_USER;
}
```

ê·¸ëŸ¼, ì»´í¬ë„ŒíŠ¸ëŠ” ì¡°ê±´ì— ë”°ë¼ í˜¸ì¶œí•  ìˆ˜ ì—†ê²Œ ëœë‹¤. ì´ê±´ ì‹¤ì œë¡œ Hookì„ ë‚´ë¶€ì— ì¶”ê°€í•´ í˜¸ì¶œí•  ë•Œ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.

ì§€ê¸ˆì´ë“  ë‚˜ì¤‘ì´ë“  Hookì„ ë‚´ë¶€ì— ì‚¬ìš©í•  ê³„íšì´ ì—†ë‹¤ë©´, Hookìœ¼ë¡œ ë§Œë“¤ì§€ ë§ˆë¼.

## ì»¤ìŠ¤í…€ Hookì€ state ê·¸ ìì²´ë¥¼ ê³µìœ í•˜ëŠ”ê²Œ ì•„ë‹Œ state ì €ì¥ ë¡œì§ì„ ê³µìœ í•˜ë„ë¡ í•©ë‹ˆë‹¤.

ì•ì„  ì˜ˆì‹œì—ì„œ, ìš°ë¦¬ê°€ ë„¤íŠ¸ì›Œí¬ë¥¼ ê»ë‹¤ ì¼°ì„ ë•Œ ì–‘ìª½ ì»´í¬ë„ŒíŠ¸ê°€ í•¨ê»˜ ì—…ë°ì´íŠ¸ë˜ì—ˆë‹¤.

ê·¸ë ‡ë‹¤ê³  í•´ì„œ `isOnline` state ë³€ìˆ˜ê°€ ë‘ ì»´í¬ë„ŒíŠ¸ ê°„ ê³µìœ ë˜ì—ˆë‹¤ê³  ìƒê°í•˜ë©´ ì•ˆëœë‹¤.

```tsx
function StatusBar() {
  const isOnline = useOnlineStatus();
  // ...
}

function SaveButton() {
  const isOnline = useOnlineStatus();
  // ...
}
```

ìš°ë¦¬ê°€ ì¤‘ë³µëœ ë¶€ë¶„ì„ ê±·ì–´ë‚´ê¸° ì „ì—ë„ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤.

```tsx
function StatusBar() {
  const [isOnline, setIsOnline] = useState(true);
  useEffect(() => {
    // ...
  }, []);
  // ...
}

function SaveButton() {
  const [isOnline, setIsOnline] = useState(true);
  useEffect(() => {
    // ...
  }, []);
  // ...
}
```

ì™„ì „íˆ ë…ë¦½ì ì¸ ë‘ state ë²¼ìˆ˜ì™€ Effectê°€ ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

ê·¸ë“¤ì€ ìš°ë¦¬ê°€ ë™ì¼í•œ ì™¸ë¶€ ë³€ìˆ˜ë¥¼ ë™ê¸°í™”í–ˆê¸° ë•Œë¬¸ì— ê°™ì€ ì‹œê°„ì— ê°™ì€ ê°’ì„ ê°€ì§€ê³  ìˆì„ ë¿ì´ë‹¤.

ì´ê±¸ ë” ì˜ í‘œí˜„í•˜ê¸° ìœ„í•´ ë‹¤ë¥¸ ì˜ˆì‹œê°€ í•„ìš”í•˜ë‹¤.

ë‹¤ìŒ `Form` ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚´í´ë´ë¼.

```tsx
import { useState } from 'react';

export default function Form() {
  const [firstName, setFirstName] = useState('Mary');
  const [lastName, setLastName] = useState('Poppins');

  function handleFirstNameChange(e) {
    setFirstName(e.target.value);
  }

  function handleLastNameChange(e) {
    setLastName(e.target.value);
  }

  return (
    <>
      <label>
        First name:
        <input value={firstName} onChange={handleFirstNameChange} />
      </label>
      <label>
        Last name:
        <input value={lastName} onChange={handleLastNameChange} />
      </label>
      <p><b>Good morning, {firstName} {lastName}.</b></p>
    </>
  );
}

```

ê°ê°ì˜ í¼ ì…ë ¥ì— ë°˜ë³µë˜ëŠ” ë¡œì§ì´ ìˆë‹¤.

1. stateê°€ ì¡´ì¬í•œë‹¤. (`firstName` , `lastName` )
2. ë³€í™”ë¥¼ ë‹¤ë£¨ëŠ” í•¨ìˆ˜ê°€ ì¡´ì¬í•œë‹¤. (`handleFirstNameChange` , `handleLastNameChange` )
3. í•´ë‹¹ ì…ë ¥ì— ëŒ€í•œ `value` ì™€ `onChange` ì˜ ì†ì„±ì„ ì§€ì •í•˜ëŠ” JSXê°€ ì¡´ì¬í•œë‹¤.

`useFormInput` ì»¤ìŠ¤í…€ Hookì„ í†µí•´ ë°˜ë³µë˜ëŠ” ë¡œì§ì„ ì¶”ì¶œí•  ìˆ˜ ìˆë‹¤.

```tsx
//App.js
import { useFormInput } from './useFormInput.js';

export default function Form() {
  const firstNameProps = useFormInput('Mary');
  const lastNameProps = useFormInput('Poppins');

  return (
    <>
      <label>
        First name:
        <input {...firstNameProps} />
      </label>
      <label>
        Last name:
        <input {...lastNameProps} />
      </label>
      <p><b>Good morning, {firstNameProps.value} {lastNameProps.value}.</b></p>
    </>
  );
}

```

```tsx
//useFormInput.js
import { useState } from 'react';

export function useFormInput(initialValue) {
  const [value, setValue] = useState(initialValue);

  function handleChange(e) {
    setValue(e.target.value);
  }

  const inputProps = {
    value: value,
    onChange: handleChange
  };

  return inputProps;
}

```

`value` ë¼ê³  ë¶ˆë¦¬ëŠ” state ë³€ìˆ˜ê°€ í•œ ë²ˆë§Œ ì •ì˜ëœë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•´ë¼.

ì´ì™€ ë‹¬ë¦¬, `Form` ì»´í¬ë„ŒíŠ¸ëŠ” `useFormInput` ì„ **ë‘ ë²ˆ** í˜¸ì¶œí•œë‹¤.

```tsx
function Form() {
  const firstNameProps = useFormInput('Mary');
  const lastNameProps = useFormInput('Poppins');
  // ...
```

ìœ„ì˜ ì˜ˆì‹œëŠ” ì™œ ë‘ ê°œì˜ ë‹¤ë¥¸ state ë³€ìˆ˜ë¥¼ ì •ì˜í•˜ëŠ” ì‹ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€ ë³´ì—¬ì¤€ë‹¤.

**ì»¤ìŠ¤í…€ Hookì€ ìš°ë¦¬ê°€ state ê·¸ ìì²´ê°€ ì•„ë‹Œ state ì €ì¥ ë¡œì§ì„ ê³µìœ í•˜ë„ë¡ í•´ì¤€ë‹¤. ê°™ì€ Hookì„ í˜¸ì¶œí•˜ë”ë¼ë„ ê°ê°ì˜ Hook í˜¸ì¶œì€ ì™„ì „íˆ ë…ë¦½ë˜ì–´ ìˆë‹¤.**

ì´ê²ƒì´ ìœ„ì˜ ë‘ ì½”ë“œê°€ ì™„ì „íˆ ê°™ì€ ì´ìœ ì´ë‹¤.

ëŒ€ì‹  ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ ê°„ state ìì²´ë¥¼ ê³µìœ í•  í•„ìš”ê°€ ìˆë‹¤ë©´, stateë¥¼ ìœ„ë¡œ ì˜¬ë ¤ ì „ë‹¬í•´ë¼.

## Hook ì‚¬ì´ì— ìƒí˜¸ì‘ìš©í•˜ëŠ” ê°’ ì „ë‹¬í•˜ê¸°

ì»¤ìŠ¤í…€ Hook ì•ˆì˜ ì½”ë“œëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì¬ë Œë”ë§ë  ë•Œë§ˆë‹¤ ë‹¤ì‹œ ëŒì•„ê°ˆ ê±°ë‹¤.

ì´ê²Œ ë°”ë¡œ Hookì´ ìˆœìˆ˜í•´ì•¼ í•˜ëŠ” ì´ìœ ì´ë‹¤. ì»¤ìŠ¤í…€ Hookì„ ì»´í¬ë„ŒíŠ¸ ë³¸ì²´ì˜ í•œ ë¶€ë¶„ì´ë¼ê³  ìƒê°í•˜ë©´ ì¢‹ë‹¤.

ì»¤ìŠ¤í…€ Hookì´ ì»´í¬ë„ŒíŠ¸ì™€ í•¨ê»˜ ì¬ë Œë”ë§ëœë‹¤ë©´, í•­ìƒ ê°€ì¥ ìµœì‹ ì˜ propsì™€ stateë¥¼ ì „ë‹¬ë°›ì„ ê²ƒì´ë‹¤.

## ì»¤ìŠ¤í…€ Hookì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë„˜ê²¨ì£¼ê¸°

> **ê°œë°œ ì¤‘ì¸ ê¸°ìˆ !**
ì´ ì„¹ì…˜ì€ ë¦¬ì•¡íŠ¸ì˜ ì•ˆì •í™” ë²„ì „ì— ì•„ì§ ë°˜ì˜ë˜ì§€ ì•Šì€ ì‹¤í—˜ì ì¸ APIë¥¼ ì„¤ëª…í•˜ê³  ìˆë‹¤.
> 

ì»¤ìŠ¤í…€ Hookì—ì„œ í•¨ìˆ˜ë¥¼ propìœ¼ë¡œ ë°›ì•„ì™€ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´, í•¨ìˆ˜ë¥¼ useEffectEventë¡œ ê°ì‹¸ ë°›ëŠ” ê²ƒì´ ì¢‹ë‹¤.

í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì£¼ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì¬ë Œë”ë§ë˜ë©´ í•¨ìˆ˜ë„ ìƒˆë¡œ ì „ë‹¬ë˜ë©´ì„œ ì»¤ìŠ¤í…€ Hook ì† Effectê°€ ë¶ˆí•„ìš”í•˜ê²Œ ì¬ì‹¤í–‰ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

## ì–¸ì œ ì»¤ìŠ¤í…€ Hookì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ì§€

ëª¨ë“  ìì˜í•œ ì¤‘ë³µë˜ëŠ” ì½”ë“œë“¤ê¹Œì§€ ì»¤ìŠ¤í…€ Hookìœ¼ë¡œ ë¶„ë¦¬í•  í•„ìš”ëŠ” ì—†ë‹¤.

í•˜ì§€ë§Œ Effectë¥¼ ì‚¬ìš©í•˜ë“  ì‚¬ìš©í•˜ì§€ ì•Šë“ , ì»¤ìŠ¤í…€ Hook ì•ˆì— ê·¸ê²ƒì„ ê°ì‹¸ëŠ” ê²Œ ì¢‹ì€ì§€ ì•„ë‹Œì§€ ê³ ë ¤í•´ë¼. Effectë¥¼ ìì£¼ ì“¸ í•„ìš”ê°€ ì—†ì„ì§€ ëª¨ë¥¸ë‹¤.

ë§Œì•½ Effectë¥¼ ì‚¬ìš©í•œë‹¤ë©´, ê·¸ê±´ ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™”í•œë‹¤ë˜ê°€ ë¦¬ì•¡íŠ¸ê°€ ë‚´ì¥í•˜ì§€ ì•Šì€ APIë¥¼ ìœ„í•´ ë¬´ì–¸ê°€ë¥¼ í•˜ëŠ” ë“± â€œë¦¬ì•¡íŠ¸ë¥¼ ë²—ì–´ë‚˜ê¸°â€ ìœ„í•¨ì¼ ê²ƒì´ë‹¤.

ì»¤ìŠ¤í…€ Hookìœ¼ë¡œ ê°ì‹¸ëŠ” ê²ƒì€ ëª©ì ì„ ì •í™•í•˜ê²Œ ì „ë‹¬í•˜ê³  ì–´ë–»ê²Œ ë°ì´í„°ê°€ ê·¸ê²ƒì„ í†µí•´ íë¥´ëŠ”ì§€ ì•Œ ìˆ˜ ìˆê²Œ í•œë‹¤.

ì»¤ìŠ¤í…€ Hookìœ¼ë¡œ ì¶”ì¶œí•˜ëŠ” ê²ƒì€ ë°ì´í„°ì˜ íë¦„ì„ ëª…í™•í•˜ê²Œ í•´ì£¼ê³ , ì»´í¬ë„ŒíŠ¸ì— ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„±ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.

### ì»¤ìŠ¤í…€ Hookì´ êµ¬ì²´ì ì¸ ê³ ê¸‰ ì‚¬ìš© ì‚¬ë¡€ì— ì§‘ì¤‘í•˜ë„ë¡ í•˜ê¸°

ì»¤ìŠ¤í…€ Hookì˜ ì´ë¦„ì„ ê³ ë¥´ëŠ” ê³¼ì •ì—ì„œ ê³ ë¶„ë¶„íˆ¬í•œë‹¤ë©´, ê·¸ê±´ ì‚¬ìš©í•˜ëŠ” Effectê°€ ì»´í¬ë„ŒíŠ¸ ë¡œì§ì˜ ì¼ë¶€ë¶„ì— ë„ˆë¬´ ê²°í•©í•˜ì—¬ ìˆë‹¤ëŠ” ì˜ë¯¸ì¼ ê²ƒì´ë‹¤.

ê·¸ë¦¬ê³  ì•„ì§ ë¶„ë¦¬ë  ì¤€ë¹„ê°€ ì•ˆëœ ê²ƒì´ë‹¤.

ì´ìƒì ìœ¼ë¡œ ì»¤ìŠ¤í…€ Hookì˜ ì´ë¦„ì€ ì½”ë“œë¥¼ ìì£¼ ì‘ì„±í•˜ëŠ” ì‚¬ëŒì´ ì•„ë‹ˆë”ë¼ë„ ì»¤ìŠ¤í…€ Hookì´ ë¬´ìŠ¨ ì¼ì„ í•˜ê³ , ë¬´ì—‡ì„ propsë¡œ ë°›ê³ , ë¬´ì—‡ì„ ë°˜í™˜í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë„ë¡ ì•„ì£¼ ëª…í™•í•´ì•¼ í•œë‹¤.

```tsx
âœ… useData(url)
âœ… useImpressionLog(eventName, extraData)
âœ… useChatRoom(options)
```

ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™”í•  ë•Œ, ì»¤ìŠ¤í…€ Hookì˜ ì´ë¦„ì€ ì¢€ ë” ê¸°ìˆ ì ì´ê³  í•´ë‹¹ ì‹œìŠ¤í…œì„ íŠ¹ì •í•˜ëŠ” ìš©ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤.

í•´ë‹¹ ì‹œìŠ¤í…œì— ì¹œìˆ™í•œ ì‚¬ëŒì—ê²Œë„ ëª…í™•í•œ ì´ë¦„ì´ë¼ë©´ ì¢‹ë‹¤.

```jsx
âœ… useMediaQuery(query)
âœ… useSocket(url)
âœ… useIntersectionObserver(ref, options)
```

**ì»¤ìŠ¤í…€ Hookì´ êµ¬ì²´ì ì¸ ê³ ê¸‰ ì‚¬ìš© ì‚¬ë¡€ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ í•´ë¼.**

`useEffect` API ê·¸ ìì²´ë¥¼ ìœ„í•œ ëŒ€ì±…ì´ë‚˜ í¸ë¦¬í•˜ê²Œ ê°ì‹¸ëŠ” ìš©ë„ë¡œ ë™ì‘í•˜ëŠ” ì»¤ìŠ¤í…€ â€œìƒëª… ì£¼ê¸°â€ Hookì„ ìƒì„±í•˜ê±°ë‚˜ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ í”¼í•´ë¼.

```jsx
ğŸ”´ useMount(fn)
ğŸ”´ useEffectOnce(fn)
ğŸ”´ useUpdateEffect(fn)
```

ì˜ˆë¥¼ ë“¤ì–´, ì´ `useMount` Hookì€ ì½”ë“œê°€ â€œë§ˆìš´íŠ¸ ì‹œâ€ì—ë§Œ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡Œë‹¤.

```jsx
function ChatRoom({ roomId }) {
  const [serverUrl, setServerUrl] = useState('https://localhost:1234');

  // ğŸ”´ ì•ˆ ì¢‹ì€ ì˜ˆ : ì»¤ìŠ¤í…€ "ìƒëª… ì£¼ê¸°" Hookì„ ì‚¬ìš©
  useMount(() => {
    const connection = createConnection({ roomId, serverUrl });
    connection.connect();

    post('/analytics/event', { eventName: 'visit_chat' });
  });
  // ...
}

// ğŸ”´ ì•ˆ ì¢‹ì€ ì˜ˆ : ì»¤ìŠ¤í…€ "ìƒëª… ì£¼ê¸°" Hookì„ ìƒì„±
function useMount(fn) {
  useEffect(() => {
    fn();
  }, []); // ğŸ”´ React Hook useEffectì€ 'fn'ì˜ ì˜ì¡´ì„±ì„ ê°–ê³  ìˆì§€ ì•ŠìŒ.
}
```

**`useMount` ê³¼ ê°™ì€ ì»¤ìŠ¤í…€ â€œìƒëª… ì£¼ê¸°â€ Hookì€ ì „í˜•ì ì¸ ë¦¬ì•¡íŠ¸ì™€ ë§ì§€ ì•ŠëŠ”ë‹¤.**

ì˜ˆë¥¼ ë“¤ì–´ ì´ ì½”ë“œ ì˜ˆì‹œëŠ” ë¬¸ì œê°€ ìˆì§€ë§Œ(`roomId` ë‚˜ `serverUrl` ì˜ ë³€í™”ì— ë°˜ì‘í•˜ì§€ ì•ŠìŒ), ë¦°í„°ëŠ” ì˜¤ì§ ì§ì ‘ì ì¸ `useEffect` í˜¸ì¶œë§Œ ì²´í¬í•˜ê¸° ë•Œë¬¸ì— ê²½ê³ í•˜ì§€ ì•ŠëŠ”ë‹¤.

ë¦°í„°ëŠ” Hookì— ëŒ€í•´ ëª¨ë¥´ê³  ìˆë‹¤!

Effectë¥¼ ì‘ì„±í•  ë•Œ, React APIë¥¼ ì§ì ‘ì ìœ¼ë¡œ ì‚¬ìš©í•´ë¼.

```jsx
function ChatRoom({ roomId }) {
  const [serverUrl, setServerUrl] = useState('https://localhost:1234');

  // âœ… ì¢‹ì€ ì˜ˆì‹œ : ë‘ EffectëŠ” ëª©ì ì— ë”°ë¼ ë‚˜ë‰˜ì–´ ìˆìŠµë‹ˆë‹¤.

  useEffect(() => {
    const connection = createConnection({ serverUrl, roomId });
    connection.connect();
    return () => connection.disconnect();
  }, [serverUrl, roomId]);

  useEffect(() => {
    post('/analytics/event', { eventName: 'visit_chat', roomId });
  }, [roomId]);

  // ...
}
```

ê·¸ë ‡ê²Œ ë˜ë©´ (ê·¸ëŸ´ í•„ìš”ëŠ” ì—†ì§€ë§Œ) ì»¤ìŠ¤í…€ Hookì„ ì„œë¡œ ë‹¤ë¥¸ ê³ ê¸‰ ì‚¬ìš© ì˜ˆì‹œì— ë”°ë¼ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤.

```jsx
function ChatRoom({ roomId }) {
  const [serverUrl, setServerUrl] = useState('https://localhost:1234');

  // âœ… Great: custom Hooks named after their purpose
  useChatRoom({ serverUrl, roomId });
  useImpressionLog('visit_chat', { roomId });
  // ...
}
```

**ì¢‹ì€ ì»¤ìŠ¤í…€ Hookì€ í˜¸ì¶œ ì½”ë“œê°€ í•˜ëŠ” ì¼ì„ ì œí•œí•˜ë©´ì„œ ì¢€ ë” ì„ ì–¸ì ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.**

ì˜ˆë¥¼ ë“¤ì–´, `useChatRoom(options)` ì€ ì˜¤ì§ ì±„íŒ…ë°©ê³¼ ì—°ê²°í•  ìˆ˜ ìˆì§€ë§Œ, `useImpressionLog(eventName, extraData)` ì€ ì• ë„ë¦¬í‹±ìŠ¤ì—ë§Œ ë…¸ì¶œëœ ê¸°ë¡ì„ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.

ì»¤ìŠ¤í…€ Hook APIê°€ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì œí•œí•˜ì§€ ì•Šê³  ë„ˆë¬´ ì¶”ìƒì ì´ë¼ë©´, ì¥ê¸°ì ìœ¼ë¡œëŠ” ê·¸ê²ƒì´ í•´ê²°í•  ìˆ˜ ìˆëŠ” ê²ƒë³´ë‹¤ ë” ë§ì€ ë¬¸ì œë¥¼ ë§Œë“¤ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.

## ì»¤ìŠ¤í…€ Hookì€ ë” ë‚˜ì€ íŒ¨í„´ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤€ë‹¤.

EffectëŠ” íƒˆì¶œêµ¬ì´ë‹¤.

â€œë¦¬ì•¡íŠ¸ì—ì„œ ë²—ì–´ë‚˜â€ëŠ” ê²ƒì´ í•„ìš”í•  ë•Œë‚˜ ì‚¬ìš© ì‹œì— ê´œì°®ì€ ë‚´ì¥ëœ í•´ê²° ë°©ë²•ì´ ì—†ëŠ” ê²½ìš°, ì‚¬ìš©í•œë‹¤.

ë¦¬ì•¡íŠ¸ íŒ€ì˜ ëª©í‘œëŠ” ë” êµ¬ì²´ì ì¸ ë¬¸ì œì— ë” êµ¬ì²´ì ì¸ í•´ê²° ë°©ë²•ì„ ì œê³µí•´ ì•±ì— ìˆëŠ” Effectì˜ ìˆ«ìë¥¼ ì ì°¨ ìµœì†Œí•œìœ¼ë¡œ ì¤„ì´ëŠ” ê²ƒì´ë‹¤.

ì»¤ìŠ¤í…€ Hookìœ¼ë¡œ Effectë¥¼ ê°ì‹¸ëŠ” ê²ƒì€ ì´ëŸ° í•´ê²° ë°©ë²•ë“¤ì´ ê°€ëŠ¥í•´ì§ˆ ë•Œ ì½”ë“œë¥¼ ì‰½ê²Œ ì—…ê·¸ë ˆì´ë“œí•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

```jsx
import { useState, useEffect } from 'react';

export function useOnlineStatus() {
  const [isOnline, setIsOnline] = useState(true);
  useEffect(() => {
    function handleOnline() {
      setIsOnline(true);
    }
    function handleOffline() {
      setIsOnline(false);
    }
    window.addEventListener('online', handleOnline);
    window.addEventListener('offline', handleOffline);
    return () => {
      window.removeEventListener('online', handleOnline);
      window.removeEventListener('offline', handleOffline);
    };
  }, []);
  return isOnline;
}

```

ìœ„ì˜ ì˜ˆì‹œì—ì„œ `useOnlineStatus` ëŠ” í•œ ìŒì˜ `useState` ì™€ `useEffect` ì™€ í•¨ê»˜ ì‹¤í–‰ëœë‹¤.

í•˜ì§€ë§Œ ì´ê±´ ê°€ì¥ ì¢‹ì€ í•´ê²° ë°©ë²•ì€ ì•„ë‹ˆë‹¤. ì´ í•´ê²° ë°©ë²•ì´ ê³ ë ¤í•˜ì§€ ëª»í•œ ìˆ˜ë§ì€ ì˜ˆì™¸ ìƒí™©ì´ ì¡´ì¬í•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ ëì„ ë•Œ, `isOnline` ì´ ì´ë¯¸ `true` ë¼ê³  ê°€ì •í•œë‹¤. í•˜ì§€ë§Œ ì´ê²ƒì€ ë„¤íŠ¸ì›Œí¬ê°€ ì´ë¯¸ êº¼ì¡Œì„ ë•Œ í‹€ë¦° ê°€ì •ì´ ëœë‹¤.

ì´ëŸ° ìƒí™©ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ë¸Œë¼ìš°ì € [`navigator.onLine`](http://navigator.onLine) APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì´ê±¸ ì§ì ‘ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ì´ˆê¸° HTMLì„ ìƒì„±í•˜ê¸° ìœ„í•œ ì„œë²„ì—ì„  ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.

ì´ ì½”ë“œëŠ” ë³´ì™„ë˜ì–´ì•¼ í•œë‹¤.

ë¦¬ì•¡íŠ¸ëŠ” ì´ëŸ° ëª¨ë“  ë¬¸ì œë¥¼ ì‹ ê²½ ì¨ì£¼ëŠ” `useSyncExternalStore` ë¼ê³  ë¶ˆë¦¬ëŠ” ì„¬ì„¸í•œ APIë¥¼ í¬í•¨í•œë‹¤.

ì—¬ê¸°ì— ìƒˆ APIì˜ ì¥ì ì„ ê°€ì§€ê³  ë‹¤ì‹œ ì“°ì¸ `OnlineStatus` ì´ ìˆë‹¤.

```jsx
import { useSyncExternalStore } from 'react';

function subscribe(callback) {
  window.addEventListener('online', callback);
  window.addEventListener('offline', callback);
  return () => {
    window.removeEventListener('online', callback);
    window.removeEventListener('offline', callback);
  };
}

export function useOnlineStatus() {
  return useSyncExternalStore(
    subscribe,
    () => navigator.onLine, // í´ë¼ì´ì–¸íŠ¸ì˜ ê°’ì„ ë°›ì•„ì˜¤ëŠ” ë°©ë²•
    () => true // ì„œë²„ì˜ ê°’ì„ ë°›ì•„ì˜¤ëŠ” ë°©ë²•
  );
}
```

ì–´ë–»ê²Œ ì´ ë³€ê²½ì„ í•˜ê¸° ìœ„í•´ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë³€ê²½í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ”ì§€ ì•Œì•„ë³´ì.

```jsx
function StatusBar() {
  const isOnline = useOnlineStatus();
  // ...
}

function SaveButton() {
  const isOnline = useOnlineStatus();
  // ...
}
```

ì»¤ìŠ¤í…€ Hookìœ¼ë¡œ Effectë¥¼ ê°ì‹¸ëŠ” ê²ƒì´ ì¢…ì¢… ìœ ìš©í•œ ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤:

1. ë§¤ìš° ëª…í™•í•˜ê²Œ EFfectë¡œ ì£¼ê³ ë°›ëŠ” ë°ì´í„° íë¦„ì„ ë§Œë“¤ ë•Œ
2. ì»´í¬ë„ŒíŠ¸ê°€ Effectì˜ ì •í™•í•œ ì‹¤í–‰ë³´ë‹¤ ëª©ì ì— ì§‘ì¤‘í•˜ë„ë¡ í•  ë•Œ
3. ë¦¬ì•¡íŠ¸ê°€ ìƒˆ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œ, ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì˜ ë³€ê²½ ì—†ì´ ì´ Effectë¥¼ ì‚­ì œí•  ìˆ˜ ìˆì„ ë•Œ

ë””ìì¸ ì‹œìŠ¤í…œê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, ì•±ì˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¼ë°˜ì ì¸ ê´€ìš©êµ¬ë¥¼ ì¶”ì¶œí•˜ì—¬ ì»¤ìŠ¤í…€ Hookìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒì´ ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤.

ì´ë ‡ê²Œ í•˜ë©´ ì»´í¬ë„ŒíŠ¸ì˜ ì½”ë“œê°€ ì˜ë„ì— ì§‘ì¤‘í•  ìˆ˜ ìˆê³ , Effectë¥¼ ìì£¼ ì‘ì„±í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. 

ë¦¬ì•¡íŠ¸ ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ë§ì€ í›Œë¥­í•œ ì»¤ìŠ¤í…€ Hookì„ ê´€ë¦¬í•˜ê³  ìˆë‹¤!

### ë¦¬ì•¡íŠ¸ê°€ ë°ì´í„° íŒ¨ì¹­ì„ ìœ„í•œ ë‚´ë¶€ í•´ê²°ì±…ì„ ì œê³µí• ê¹Œìš”?

ì•„ì§ ì„¸ë¶€ì ì¸ ì‚¬í•­ì„ ì‘ì—… ì¤‘ì´ì§€ë§Œ, ì•ìœ¼ë¡œëŠ” ì´ì™€ ê°™ì´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë„ë¡ ì‘ì„±í•˜ê²Œ ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒëœë‹¤.

```jsx
import { use } from 'react'; // ì•„ì§ ì‚¬ìš© ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤!

function ShippingForm({ country }) {
  const cities = use(fetch(`/api/cities?country=${country}`));
  const [city, setCity] = useState(null);
  const areas = city ? use(fetch(`/api/areas?city=${city}`)) : null;
  // ...
```

ì•±ì— `useData` ê³¼ ê°™ì€ ì»¤ìŠ¤í…€ Hookì„ ì‚¬ìš©í•œë‹¤ë©´, ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì— ìˆ˜ë™ì ìœ¼ë¡œ Effectë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒë³´ë‹¤ ìµœì¢…ì ìœ¼ë¡œ ê¶Œì¥ë˜ëŠ” ì ‘ê·¼ ë°©ì‹ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì´ ë” ì ì€ ë³€ê²½ì´ ìš”êµ¬ëœë‹¤.

ê·¸ëŸ¬ë‚˜ ì´ì „ì˜ ì ‘ê·¼ ë°©ì‹ë„ ì¶©ë¶„íˆ ì˜ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— Effect ì‚¬ìš©ì„ ì¦ê¸´ë‹¤ë©´ ê·¸ë ‡ê²Œ ì‚¬ìš©í•´ë„ ëœë‹¤!

## ì—¬ëŸ¬ ë°©ë²•ì´ ì¡´ì¬í•©ë‹ˆë‹¤.

ë¸Œë¼ìš°ì €ì˜ `requestAnimationFrame` APIë¥¼ ì´ìš©í•´ **ì²˜ìŒë¶€í„°** í˜ì´ë“œ ì¸ ì• ë‹ˆë©”ì´ì…˜ì„ êµ¬í˜„í•œë‹¤ê³  ìƒê°í•´ ë³´ì.

ì•„ë§ˆ ì• ë‹ˆë©”ì´ì…˜ì„ ë°˜ë³µì‹œí‚¤ê¸° ìœ„í•´ Effectë¶€í„° ì‘ì„±í•  ê²ƒì´ë‹¤.

ê°ê°ì˜ ì• ë‹ˆë©”ì´ì…˜ í”„ë ˆì„ ë™ì•ˆ ì°¸ì¡°í•´ ë‘” ref DOM ë…¸ë“œì˜ íˆ¬ëª…ë„ë¥¼ `1` ì— ë„ë‹¬í•  ë•Œê¹Œì§€ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

- ì½”ë“œ
    
    ```jsx
    import { useState, useEffect, useRef } from 'react';
    
    function Welcome() {
      const ref = useRef(null);
    
      useEffect(() => {
        const duration = 1000;
        const node = ref.current;
    
        let startTime = performance.now();
        let frameId = null;
    
        function onFrame(now) {
          const timePassed = now - startTime;
          const progress = Math.min(timePassed / duration, 1);
          onProgress(progress);
          if (progress < 1) {
            // ì•„ì§ ê·¸ë ¤ì•¼ í•  í”„ë ˆì„ì´ ë§ìŠµë‹ˆë‹¤.
            frameId = requestAnimationFrame(onFrame);
          }
        }
    
        function onProgress(progress) {
          node.style.opacity = progress;
        }
    
        function start() {
          onProgress(0);
          startTime = performance.now();
          frameId = requestAnimationFrame(onFrame);
        }
    
        function stop() {
          cancelAnimationFrame(frameId);
          startTime = null;
          frameId = null;
        }
    
        start();
        return () => stop();
      }, []);
    
      return (
        <h1 className="welcome" ref={ref}>
          Welcome
        </h1>
      );
    }
    
    export default function App() {
      const [show, setShow] = useState(false);
      return (
        <>
          <button onClick={() => setShow(!show)}>
            {show ? 'Remove' : 'Show'}
          </button>
          <hr />
          {show && <Welcome />}
        </>
      );
    }
    
    ```
    

ì´ ì»´í¬ë„ŒíŠ¸ì˜ ê°€ë…ì„±ì„ ìœ„í•´ ë¡œì§ì„ ì¶”ì¶œí•´ `useFadeIn` ì»¤ìŠ¤í…€ Hookì„ ë§Œë“¤ì–´ ë³´ì.

- `App.js`
    
    ```jsx
    //App.js
    import { useState, useEffect, useRef } from 'react';
    
    function Welcome() {
      const ref = useRef(null);
    
      useEffect(() => {
        const duration = 1000;
        const node = ref.current;
    
        let startTime = performance.now();
        let frameId = null;
    
        function onFrame(now) {
          const timePassed = now - startTime;
          const progress = Math.min(timePassed / duration, 1);
          onProgress(progress);
          if (progress < 1) {
            // ì•„ì§ ê·¸ë ¤ì•¼ í•  í”„ë ˆì„ì´ ë§ìŠµë‹ˆë‹¤.
            frameId = requestAnimationFrame(onFrame);
          }
        }
    
        function onProgress(progress) {
          node.style.opacity = progress;
        }
    
        function start() {
          onProgress(0);
          startTime = performance.now();
          frameId = requestAnimationFrame(onFrame);
        }
    
        function stop() {
          cancelAnimationFrame(frameId);
          startTime = null;
          frameId = null;
        }
    
        start();
        return () => stop();
      }, []);
    
      return (
        <h1 className="welcome" ref={ref}>
          Welcome
        </h1>
      );
    }
    
    export default function App() {
      const [show, setShow] = useState(false);
      return (
        <>
          <button onClick={() => setShow(!show)}>
            {show ? 'Remove' : 'Show'}
          </button>
          <hr />
          {show && <Welcome />}
        </>
      );
    }
    
    ```
    
- `useFadeIn.js`
    
    ```jsx
    import { useEffect } from 'react';
    
    export function useFadeIn(ref, duration) {
      useEffect(() => {
        const node = ref.current;
    
        let startTime = performance.now();
        let frameId = null;
    
        function onFrame(now) {
          const timePassed = now - startTime;
          const progress = Math.min(timePassed / duration, 1);
          onProgress(progress);
          if (progress < 1) {
            // ì•„ì§ ê·¸ë ¤ì•¼ í•  í”„ë ˆì„ì´ ë§ìŠµë‹ˆë‹¤.
            frameId = requestAnimationFrame(onFrame);
          }
        }
    
        function onProgress(progress) {
          node.style.opacity = progress;
        }
    
        function start() {
          onProgress(0);
          startTime = performance.now();
          frameId = requestAnimationFrame(onFrame);
        }
    
        function stop() {
          cancelAnimationFrame(frameId);
          startTime = null;
          frameId = null;
        }
    
        start();
        return () => stop();
      }, [ref, duration]);
    }
    
    ```
    

`useFadeIn` ì½”ë“œë¥¼ ìœ ì§€í•  ìˆ˜ë„ ìˆì§€ë§Œ ë” ë¦¬í™í† ë§í•  ìˆ˜ë„ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ `useFadeIn` ë°–ìœ¼ë¡œ ë°˜ë³µ ì„¤ì • ë¡œì§ì„ ë¹¼ë‚´ `useAnimationLoop`  ì»¤ìŠ¤í…€ Hookìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

- `useFadeIn.js`
    
    ```jsx
    import { useState, useEffect } from 'react';
    import { experimental_useEffectEvent as useEffectEvent } from 'react';
    
    export function useFadeIn(ref, duration) {
      const [isRunning, setIsRunning] = useState(true);
    
      useAnimationLoop(isRunning, (timePassed) => {
        const progress = Math.min(timePassed / duration, 1);
        ref.current.style.opacity = progress;
        if (progress === 1) {
          setIsRunning(false);
        }
      });
    }
    
    function useAnimationLoop(isRunning, drawFrame) {
      const onFrame = useEffectEvent(drawFrame);
    
      useEffect(() => {
        if (!isRunning) {
          return;
        }
    
        const startTime = performance.now();
        let frameId = null;
    
        function tick(now) {
          const timePassed = now - startTime;
          onFrame(timePassed);
          frameId = requestAnimationFrame(tick);
        }
    
        tick();
        return () => cancelAnimationFrame(frameId);
      }, [isRunning]);
    }
    
    ```
    

í•˜ì§€ë§Œ ë°˜ë“œì‹œ ì´ì²˜ëŸ¼ ì‘ì„±í•  í•„ìš”ëŠ” ì—†ë‹¤.

ì¼ë°˜ í•¨ìˆ˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ê¶ê·¹ì ìœ¼ë¡œ ì½”ë“œì˜ ì—¬ëŸ¬ ë¶€ë¶„ ì‚¬ì´ì˜ ê²½ê³„ë¥¼ ì–´ë””ì— ê·¸ë¦´ì§€ ê²°ì •í•´ì•¼ í•œë‹¤.

ë§¤ìš° ë‹¤ë¥´ê²Œ ì ‘ê·¼í•  ìˆ˜ë„ ìˆë‹¤. Effect ë‚´ë¶€ì˜ ë¡œì§ì„ ìœ ì§€í•˜ëŠ” ëŒ€ì‹ , ëŒ€ë¶€ë¶„ì˜ ì¤‘ìš”í•œ ë¡œì§ì„ ìë°”ìŠ¤í¬ë¦½íŠ¸ Class ë‚´ë¶€ë¡œ ì´ë™ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

- `useFadeIn.js`
    
    ```jsx
    import { useState, useEffect } from 'react';
    import { FadeInAnimation } from './animation.js';
    
    export function useFadeIn(ref, duration) {
      useEffect(() => {
        const animation = new FadeInAnimation(ref.current);
        animation.start(duration);
        return () => {
          animation.stop();
        };
      }, [ref, duration]);
    }
    
    ```
    
- `animartion.js`
    
    ```jsx
    export class FadeInAnimation {
      constructor(node) {
        this.node = node;
      }
      start(duration) {
        this.duration = duration;
        this.onProgress(0);
        this.startTime = performance.now();
        this.frameId = requestAnimationFrame(() => this.onFrame());
      }
      onFrame() {
        const timePassed = performance.now() - this.startTime;
        const progress = Math.min(timePassed / this.duration, 1);
        this.onProgress(progress);
        if (progress === 1) {
          this.stop();
        } else {
          // We still have more frames to paint
          this.frameId = requestAnimationFrame(() => this.onFrame());
        }
      }
      onProgress(progress) {
        this.node.style.opacity = progress;
      }
      stop() {
        cancelAnimationFrame(this.frameId);
        this.startTime = null;
        this.frameId = null;
        this.duration = 0;
      }
    }
    
    ```
    

EffectëŠ” ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë¦¬ì•¡íŠ¸ë¥¼ ì—°ê²°í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì—¬ëŸ¬ ì• ë‹ˆë©”ì´ì…˜ì„ ì—°ê²°í•˜ëŠ” ê²ƒì²˜ëŸ¼ Effect ê°„ì˜ ì¡°ì •ì´ ë” ë§ì´ í•„ìš”í• ìˆ˜ë¡, ìœ„ì˜ ì½”ë“œ ì˜ˆì‹œì²˜ëŸ¼ Effectì™€ Hook ë°–ìœ¼ë¡œ ë¡œì§ì„ ì™„ì „íˆ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ í•©ë¦¬ì ì´ë‹¤.

ê·¸ë ‡ê²Œ ë¶„ë¦¬í•œ ì½”ë“œëŠ” â€œì™¸ë¶€ ì‹œìŠ¤í…œâ€ì´ ë  ê²ƒì´ë‹¤.

EffectëŠ” ë¦¬ì•¡íŠ¸ ë°–ìœ¼ë¡œ ë‚´ë³´ë‚¸ ì‹œìŠ¤í…œì— ë©”ì„¸ì§€ë§Œ ë³´ë‚´ë©´ ë˜ê¸° ë•Œë¬¸ì— ì´ëŸ° ë°©ì‹ì€ Effectê°€ ì‹¬í”Œí•œ ìƒíƒœë¥¼ ìœ ì§€í•˜ë„ë¡ í•œë‹¤.

ìœ„ì˜ ì˜ˆì‹œëŠ” í˜ì´ë“œì¸ ë¡œì§ì´ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‘ì„±ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš°ë¼ê³  ê°€ì •í•œë‹¤.

í•˜ì§€ë§Œ ì´ëŸ° íŠ¹ì • í˜ì´ë“œì¸ ì• ë‹ˆë©”ì´ì…˜ì€ ì¼ë°˜ CSS ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ë” ê°„ë‹¨í•˜ê³  í›¨ì”¬ íš¨ìœ¨ì ì´ë‹¤.

- `App.js`
    
    ```jsx
    import { useState, useEffect, useRef } from 'react';
    import './welcome.css';
    
    function Welcome() {
      return (
        <h1 className="welcome">
          Welcome
        </h1>
      );
    }
    
    export default function App() {
      const [show, setShow] = useState(false);
      return (
        <>
          <button onClick={() => setShow(!show)}>
            {show ? 'Remove' : 'Show'}
          </button>
          <hr />
          {show && <Welcome />}
        </>
      );
    }
    
    ```
    
- `welcome.css`
    
    ```jsx
    .welcome {
      color: white;
      padding: 50px;
      text-align: center;
      font-size: 50px;
      background-image: radial-gradient(circle, rgba(63,94,251,1) 0%, rgba(252,70,107,1) 100%);
    
      animation: fadeIn 1000ms;
    }
    
    @keyframes fadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }
    
    ```
    

ê°€ë”ì€ Hookì´ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤!
